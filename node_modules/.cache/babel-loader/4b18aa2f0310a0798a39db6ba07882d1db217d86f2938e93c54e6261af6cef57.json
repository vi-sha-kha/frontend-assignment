{"ast":null,"code":"import _regeneratorRuntime from\"/Users/vishakhachaudhary/Desktop/React projects/frontend-assignment/redux-cart/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/vishakhachaudhary/Desktop/React projects/frontend-assignment/redux-cart/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/vishakhachaudhary/Desktop/React projects/frontend-assignment/redux-cart/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useQuery}from\"react-query\";import{useNavigate}from\"react-router-dom\";import{useDispatch}from\"react-redux\";import{addToCart}from\"../store/cartSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchPage=function SearchPage(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),searchInput=_useState2[0],setSearchInput=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),searchResults=_useState4[0],setSearchResults=_useState4[1];var navigate=useNavigate();var dispatch=useDispatch();var fetchProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://fakestoreapi.com/products\");case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;return _context.abrupt(\"return\",data);case 7:case\"end\":return _context.stop();}},_callee);}));return function fetchProducts(){return _ref.apply(this,arguments);};}();var _useQuery=useQuery(\"products\",fetchProducts),products=_useQuery.data,isLoading=_useQuery.isLoading,isError=_useQuery.isError,error=_useQuery.error;var handleFormSubmit=function handleFormSubmit(event){event.preventDefault();var filteredProducts=products.filter(function(product){return product.title.toLowerCase().includes(searchInput.toLowerCase());});setSearchResults(filteredProducts);};var handleViewDetails=function handleViewDetails(product){navigate(\"/product/\".concat(product.id));};var handleAddToCart=function handleAddToCart(product){dispatch(addToCart(product));};var renderCards=function renderCards(){if(searchInput!==\"\"&&searchResults.length===0){return/*#__PURE__*/_jsx(\"p\",{children:\"No search results found.\"});}var productsToRender=searchInput!==\"\"?searchResults:products;return productsToRender.map(function(product){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{width:\"18rem\",minHeight:\"400px\"},children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,className:\"card-img-top\",alt:product.title,style:{objectFit:\"contain\",height:\"200px\"}}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body d-flex flex-column justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:product.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Price: Rs. \",product.price]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:function onClick(){return handleAddToCart(product);},children:\"Add to Cart\"})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-light\",onClick:function onClick(){return handleViewDetails(product);},children:\"View Details\"})]})},product.id);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleFormSubmit,className:\"form-inline mb-4 justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",style:{maxWidth:\"500px\",width:\"100%\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchInput,className:\"form-control me-2\",style:{width:\"50%\"},onChange:function onChange(event){return setSearchInput(event.target.value);},placeholder:\"Enter a product name\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark\",type:\"submit\",children:\"Search\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):isError?/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error.message]}):renderCards()})]});};export default SearchPage;","map":{"version":3,"names":["React","useState","useQuery","useNavigate","useDispatch","addToCart","jsx","_jsx","jsxs","_jsxs","SearchPage","_useState","_useState2","_slicedToArray","searchInput","setSearchInput","_useState3","_useState4","searchResults","setSearchResults","navigate","dispatch","fetchProducts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","sent","json","abrupt","stop","apply","arguments","_useQuery","products","isLoading","isError","error","handleFormSubmit","event","preventDefault","filteredProducts","filter","product","title","toLowerCase","includes","handleViewDetails","concat","id","handleAddToCart","renderCards","length","children","productsToRender","map","className","style","width","minHeight","src","image","alt","objectFit","height","price","onClick","onSubmit","maxWidth","type","value","onChange","target","placeholder","message"],"sources":["/Users/vishakhachaudhary/Desktop/React projects/frontend-assignment/redux-cart/src/components/Searchpage.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { addToCart } from \"../store/cartSlice\";\n\nconst SearchPage = () => {\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const fetchProducts = async () => {\n    const response = await fetch(\"https://fakestoreapi.com/products\");\n    const data = await response.json();\n    return data;\n  };\n\n  const {\n    data: products,\n    isLoading,\n    isError,\n    error,\n  } = useQuery(\"products\", fetchProducts);\n\n  const handleFormSubmit = (event) => {\n    event.preventDefault();\n\n    const filteredProducts = products.filter((product) =>\n      product.title.toLowerCase().includes(searchInput.toLowerCase())\n    );\n    setSearchResults(filteredProducts);\n  };\n\n  const handleViewDetails = (product) => {\n    navigate(`/product/${product.id}`);\n  };\n\n  const handleAddToCart = (product) => {\n    dispatch(addToCart(product));\n  };\n\n  const renderCards = () => {\n    if (searchInput !== \"\" && searchResults.length === 0) {\n      return <p>No search results found.</p>;\n    }\n\n    const productsToRender = searchInput !== \"\" ? searchResults : products;\n\n    return productsToRender.map((product) => (\n      <div className=\"col-md-3\" key={product.id}>\n        <div className=\"card\" style={{ width: \"18rem\", minHeight: \"400px\" }}>\n          <img\n            src={product.image}\n            className=\"card-img-top\"\n            alt={product.title}\n            style={{ objectFit: \"contain\", height: \"200px\" }}\n          />\n          <div className=\"card-body d-flex flex-column justify-content-between\">\n            <div>\n              <h5 className=\"card-title\">{product.title}</h5>\n              <p className=\"card-text\">Price: Rs. {product.price}</p>\n            </div>\n            <div>\n              <button\n                className=\"btn btn-success\"\n                onClick={() => handleAddToCart(product)}\n              >\n                Add to Cart\n              </button>\n            </div>\n          </div>\n          <button\n            className=\"btn btn-light\"\n            onClick={() => handleViewDetails(product)}\n          >\n            View Details\n          </button>\n        </div>\n      </div>\n    ));\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"mt-4 d-flex justify-content-center\">\n        <form\n          onSubmit={handleFormSubmit}\n          className=\"form-inline mb-4 justify-content-center\"\n        >\n          <div\n            className=\"input-group\"\n            style={{ maxWidth: \"500px\", width: \"100%\" }}\n          >\n            <input\n              type=\"text\"\n              value={searchInput}\n              className=\"form-control me-2\"\n              style={{ width: \"50%\" }}\n              onChange={(event) => setSearchInput(event.target.value)}\n              placeholder=\"Enter a product name\"\n            />\n            <button className=\"btn btn-dark\" type=\"submit\">\n              Search\n            </button>\n          </div>\n        </form>\n      </div>\n\n      <div className=\"row\">\n        {isLoading ? (\n          <p>Loading...</p>\n        ) : isError ? (\n          <p>Error: {error.message}</p>\n        ) : (\n          renderCards()\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SearchPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}